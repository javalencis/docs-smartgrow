"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[1239],{6810:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>t,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var o=n(5893),a=n(1151);const l={id:"modal-alert-jsx",title:"ModalAlert.jsx"},t="Componente ModalAlert.jsx",s={id:"SmartGrow/Proyecto/components/modal-alert-jsx",title:"ModalAlert.jsx",description:"El componente ModalAlert proporciona un modal para resolver alertas espec\xedficas. Permite a los usuarios con privilegios resolver y editar el estado de una alerta.",source:"@site/docs/SmartGrow/Proyecto/components/ModalAlert.md",sourceDirName:"SmartGrow/Proyecto/components",slug:"/SmartGrow/Proyecto/components/modal-alert-jsx",permalink:"/docs/SmartGrow/Proyecto/components/modal-alert-jsx",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"modal-alert-jsx",title:"ModalAlert.jsx"},sidebar:"tutorialSidebar",previous:{title:"ModalAddUser.jsx",permalink:"/docs/SmartGrow/Proyecto/components/modal-add-user-component-jsx"},next:{title:"NavItem.jsx",permalink:"/docs/SmartGrow/Proyecto/components/nav-item-jsx"}},i={},c=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Vista del Componente",id:"vista-del-componente",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.h1,{id:"componente-modalalertjsx",children:["Componente ",(0,o.jsx)(r.code,{children:"ModalAlert.jsx"})]}),"\n",(0,o.jsxs)(r.p,{children:["El componente ",(0,o.jsx)(r.code,{children:"ModalAlert"})," proporciona un modal para resolver alertas espec\xedficas. Permite a los usuarios con privilegios resolver y editar el estado de una alerta."]}),"\n",(0,o.jsx)(r.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-jsx",children:"import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport api from '../api/api';\r\nimport '../styles/ModalAlert.scss';\r\n\r\n// Componente funcional ModalAlert\r\nexport const ModalAlert = ({ alert, setModalAlert }) => {\r\n    // Hook useForm para manejar el formulario\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    // Funci\xf3n para manejar el env\xedo del formulario y resolver la alerta\r\n    const handleOnSubmitForm = async (data) => {\r\n        // Obtener el token de sesi\xf3n\r\n        const token = sessionStorage.getItem('token');\r\n\r\n        // Construir el cuerpo de la solicitud PUT para resolver la alerta\r\n        const body = {\r\n            id: alert._id,\r\n            estado: true,\r\n            edicion: data\r\n        };\r\n\r\n        // Realizar una solicitud a la API para resolver la alerta\r\n        const res = await api.put('/alerts', body, {\r\n            headers: {\r\n                Authorization: token\r\n            }\r\n        });\r\n\r\n        // L\xf3gica adicional despu\xe9s de resolver la alerta, si es necesario\r\n    };\r\n\r\n    // Funci\xf3n para cerrar el modal\r\n    const handleClickExitModal = () => {\r\n        setModalAlert(false);\r\n    };\r\n\r\n    return (\r\n        <div className='ModalAlert'>\r\n            <button className='ModalAlert-btnexit' onClick={handleClickExitModal}>\r\n                X\r\n            </button>\r\n            <p className='ModalAlert-description'>{alert.descripcion}</p>\r\n            <div className='ModalAlert-bg'>\r\n                <p>Bloque: {alert.bloque}</p>\r\n                <p>Guirnalda: {alert.guirnalda}</p>\r\n            </div>\r\n            <p className='ModalAlert-status'>Estado: {alert.estado ? \"Corregido\" : \"No Corregido\"}</p>\r\n            <form onSubmit={handleSubmit(handleOnSubmitForm)}>\r\n                <div>\r\n                    <select name=\"component\" id=\"component\" {...register('componente')} required>\r\n                        <option value=\"bombillo\">Bombillo</option>\r\n                        <option value=\"sensor\">Sensor</option>\r\n                        <option value=\"contactor\">Contactor</option>\r\n                    </select>\r\n                    <select name=\"change\" id=\"change\" {...register('tipo')} required>\r\n                        <option value=\"ajuste\">Ajuste</option>\r\n                        <option value=\"cambio\">Cambio</option>\r\n                    </select>\r\n                </div>\r\n                <button type='submit'>\r\n                    Resolver\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\n"})}),"\n",(0,o.jsx)(r.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Hook ",(0,o.jsx)(r.code,{children:"useForm"}),":"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"useForm"}),": Hook de ",(0,o.jsx)(r.code,{children:"react-hook-form"})," utilizado para gestionar el formulario y sus validaciones."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Manejo del Formulario (",(0,o.jsx)(r.code,{children:"handleOnSubmitForm"}),"):"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"handleOnSubmitForm"}),": Funci\xf3n que se ejecuta al enviar el formulario. Realiza una solicitud a la API para resolver la alerta."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Funci\xf3n ",(0,o.jsx)(r.code,{children:"handleClickExitModal"}),":"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Cierra el modal al hacer clic en el bot\xf3n de salida (X)."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"Visualizaci\xf3n de la Alerta:"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Muestra informaci\xf3n detallada de la alerta, como descripci\xf3n, bloque, guirnalda y estado."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"Formulario:"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Campos para seleccionar el componente y el tipo de cambio asociados a la resoluci\xf3n de la alerta."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"vista-del-componente",children:"Vista del Componente"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"modal usuario",src:n(2318).Z+"",width:"503",height:"374"})}),"\n",(0,o.jsx)(r.p,{children:"Este componente es utilizado por los usuarios con privilegios para resolver alertas espec\xedficas."})]})}function m(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},2318:(e,r,n)=>{n.d(r,{Z:()=>o});const o=n.p+"assets/images/modalalert-635a1815cb3b4dfaeaef7a38369b3033.png"},1151:(e,r,n)=>{n.d(r,{Z:()=>s,a:()=>t});var o=n(7294);const a={},l=o.createContext(a);function t(e){const r=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(l.Provider,{value:r},e.children)}}}]);