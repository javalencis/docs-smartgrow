"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[7221],{808:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var a=r(5893),s=r(1151);const i={id:"functions-js",title:"functions.js"},t="Archivo functions.js",c={id:"APIDocs/Archivos/libs/functions-js",title:"functions.js",description:"El archivo functions.js contiene funciones que se utilizan para generar alertas en la aplicaci\xf3n. Estas funciones son utilizadas para evaluar mensajes recibidos y generar alertas en consecuencia.",source:"@site/docs/APIDocs/Archivos/libs/functions.md",sourceDirName:"APIDocs/Archivos/libs",slug:"/APIDocs/Archivos/libs/functions-js",permalink:"/docs/APIDocs/Archivos/libs/functions-js",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"functions-js",title:"functions.js"},sidebar:"tutorialSidebar",previous:{title:"user.controllers.js",permalink:"/docs/APIDocs/Archivos/controllers/user-controllers-js"},next:{title:"jwt.js",permalink:"/docs/APIDocs/Archivos/libs/jwt-js"}},l={},o=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"archivo-functionsjs",children:["Archivo ",(0,a.jsx)(n.code,{children:"functions.js"})]}),"\n",(0,a.jsxs)(n.p,{children:["El archivo ",(0,a.jsx)(n.code,{children:"functions.js"})," contiene funciones que se utilizan para generar alertas en la aplicaci\xf3n. Estas funciones son utilizadas para evaluar mensajes recibidos y generar alertas en consecuencia."]}),"\n",(0,a.jsx)(n.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// Importar modelo de Alerta y objeto de la aplicaci\xf3n\r\nimport Alert from '../models/alert.model.js';\r\nimport app from '../app.js';\r\n\r\n// Funci\xf3n para generar alerta en una guirnalda\r\nexport const generateAlert = async (messageReceive, garland) => {\r\n    // Comprobar si la lectura es menor que el umbral de la guirnalda\r\n    if (messageReceive.lectura < garland.umbral) {\r\n        // Crear nueva alerta y almacenar en la base de datos\r\n        const newAlert = new Alert({\r\n            bloque: messageReceive.bloque,\r\n            guirnalda: messageReceive.guirnalda,\r\n            descripcion: \"Problema en guirnalda\"\r\n        });\r\n        await newAlert.save();\r\n\r\n        // Emitir evento de alerta\r\n        app.emit('alert');\r\n\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n// Funci\xf3n para generar alerta en un bloque\r\nexport const generateAlertBlocks = async (messageReceive) => {\r\n    // Crear nueva alerta y almacenar en la base de datos\r\n    const newAlert = new Alert({\r\n        bloque: messageReceive.bloque,\r\n        descripcion: \"Problema en bloque\"\r\n    });\r\n    await newAlert.save();\r\n\r\n    // Emitir evento de alerta\r\n    app.emit('alert');\r\n};\n"})}),"\n",(0,a.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Funci\xf3n ",(0,a.jsx)(n.code,{children:"generateAlert"}),":"]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Esta funci\xf3n se utiliza para generar una alerta cuando la lectura de una guirnalda es menor que el umbral establecido. Crea una nueva alerta en la base de datos y emite un evento de alerta."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Funci\xf3n ",(0,a.jsx)(n.code,{children:"generateAlertBlocks"}),":"]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Esta funci\xf3n se utiliza para generar una alerta en un bloque en particular. Crea una nueva alerta en la base de datos y emite un evento de alerta."}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>t});var a=r(7294);const s={},i=a.createContext(s);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);