"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[2969],{2707:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var s=n(5893),o=n(1151);const i={id:"user-routes-js",title:"user.routes.js"},a="Archivo user.routes.js",t={id:"APIDocs/Archivos/routes/user-routes-js",title:"user.routes.js",description:"El archivo user.routes.js define las rutas relacionadas con los usuarios en la API REST. Proporciona operaciones como registro, inicio de sesi\xf3n, obtenci\xf3n de perfil y obtenci\xf3n de todos los usuarios.",source:"@site/docs/APIDocs/Archivos/routes/user.md",sourceDirName:"APIDocs/Archivos/routes",slug:"/APIDocs/Archivos/routes/user-routes-js",permalink:"/docs/APIDocs/Archivos/routes/user-routes-js",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"user-routes-js",title:"user.routes.js"},sidebar:"tutorialSidebar",previous:{title:"garland.routes.js",permalink:"/docs/APIDocs/Archivos/routes/garland-routes-js"},next:{title:"\xdaltimos pasos",permalink:"/docs/last"}},l={},c=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.h1,{id:"archivo-userroutesjs",children:["Archivo ",(0,s.jsx)(r.code,{children:"user.routes.js"})]}),"\n",(0,s.jsxs)(r.p,{children:["El archivo ",(0,s.jsx)(r.code,{children:"user.routes.js"})," define las rutas relacionadas con los usuarios en la API REST. Proporciona operaciones como registro, inicio de sesi\xf3n, obtenci\xf3n de perfil y obtenci\xf3n de todos los usuarios."]}),"\n",(0,s.jsx)(r.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-jsx",children:"// Importar el enrutador y funciones del controlador\r\nimport { Router } from 'express';\r\nimport { login, profile, register, findUsers } from '../controllers/user.controllers.js';\r\nimport { validateToken } from '../middlewares/validateToken.js';\r\n\r\n// Crear un enrutador de Express\r\nconst router = Router();\r\n\r\n// Ruta POST para registrar un nuevo usuario\r\nrouter.post('/register', validateToken, register);\r\n\r\n// Ruta POST para iniciar sesi\xf3n\r\nrouter.post('/login', login);\r\n\r\n// Ruta GET para obtener el perfil del usuario autenticado\r\nrouter.get('/profile', validateToken, profile);\r\n\r\n// Ruta GET para obtener todos los usuarios (requiere autenticaci\xf3n)\r\nrouter.get('/all', validateToken, findUsers);\r\n\r\n// Exportar el enrutador\r\nexport default router;\n"})}),"\n",(0,s.jsx)(r.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Importaci\xf3n de M\xf3dulos:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se importa ",(0,s.jsx)(r.code,{children:"Router"})," desde ",(0,s.jsx)(r.code,{children:"express"})," para crear un enrutador y se importan las funciones del controlador ",(0,s.jsx)(r.code,{children:"user.controllers.js"})," y el middleware ",(0,s.jsx)(r.code,{children:"validateToken.js"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Creaci\xf3n de un Enrutador:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se crea un enrutador utilizando la funci\xf3n ",(0,s.jsx)(r.code,{children:"Router()"})," de Express."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Ruta POST para Registrar un Nuevo Usuario:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se define una ruta ",(0,s.jsx)(r.code,{children:"POST"}),' ("/register") que permite el registro de un nuevo usuario. La funci\xf3n del controlador ',(0,s.jsx)(r.code,{children:"register"})," maneja esta operaci\xf3n. Se utiliza el middleware ",(0,s.jsx)(r.code,{children:"validateToken"})," para garantizar que solo los usuarios autenticados con un token v\xe1lido puedan acceder."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Ruta POST para Iniciar Sesi\xf3n:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se define una ruta ",(0,s.jsx)(r.code,{children:"POST"}),' ("/login") que permite la autenticaci\xf3n e inicio de sesi\xf3n de un usuario. La funci\xf3n del controlador ',(0,s.jsx)(r.code,{children:"login"})," maneja esta operaci\xf3n."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Ruta GET para Obtener el Perfil del Usuario Autenticado:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se define una ruta ",(0,s.jsx)(r.code,{children:"GET"}),' ("/profile") que permite obtener el perfil del usuario autenticado. La funci\xf3n del controlador ',(0,s.jsx)(r.code,{children:"profile"})," maneja esta operaci\xf3n. Se utiliza el middleware ",(0,s.jsx)(r.code,{children:"validateToken"})," para garantizar que solo los usuarios autenticados con un token v\xe1lido puedan acceder."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Ruta GET para Obtener Todos los Usuarios (Requiere Autenticaci\xf3n):"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Se define una ruta ",(0,s.jsx)(r.code,{children:"GET"}),' ("/all") que permite obtener todos los usuarios. La funci\xf3n del controlador ',(0,s.jsx)(r.code,{children:"findUsers"})," maneja esta operaci\xf3n. Se utiliza el middleware ",(0,s.jsx)(r.code,{children:"validateToken"})," para garantizar que solo los usuarios autenticados con un token v\xe1lido puedan acceder."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Exportaci\xf3n del Enrutador:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Se exporta el enrutador para que pueda ser utilizado por la aplicaci\xf3n principal."}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,o.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>t,a:()=>a});var s=n(7294);const o={},i=s.createContext(o);function a(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);