"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[1129],{4850:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>i});var s=o(5893),t=o(1151);const c={id:"block-status-component-jsx",title:"BlockStatus.jsx"},r="Componente BlockStatus.jsx",l={id:"SmartGrow/Proyecto/components/block-status-component-jsx",title:"BlockStatus.jsx",description:"El componente BlockStatus.jsx muestra el estado actual de los bloques en una representaci\xf3n visual comprensible. Utiliza eventos del servidor para mantenerse actualizado con los cambios en los bloques y presenta una representaci\xf3n gr\xe1fica del estado actual de cada bloque.",source:"@site/docs/SmartGrow/Proyecto/components/BlockStatus.md",sourceDirName:"SmartGrow/Proyecto/components",slug:"/SmartGrow/Proyecto/components/block-status-component-jsx",permalink:"/docs/SmartGrow/Proyecto/components/block-status-component-jsx",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"block-status-component-jsx",title:"BlockStatus.jsx"},sidebar:"tutorialSidebar",previous:{title:"AlertsHistory.jsx",permalink:"/docs/SmartGrow/Proyecto/components/alerts-history-component-jsx"},next:{title:"Control.jsx",permalink:"/docs/SmartGrow/Proyecto/components/control-component-jsx"}},a={},i=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Vista del Componente",id:"vista-del-componente",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"componente-blockstatusjsx",children:["Componente ",(0,s.jsx)(n.code,{children:"BlockStatus.jsx"})]}),"\n",(0,s.jsxs)(n.p,{children:["El componente ",(0,s.jsx)(n.code,{children:"BlockStatus.jsx"})," muestra el estado actual de los bloques en una representaci\xf3n visual comprensible. Utiliza eventos del servidor para mantenerse actualizado con los cambios en los bloques y presenta una representaci\xf3n gr\xe1fica del estado actual de cada bloque."]}),"\n",(0,s.jsx)(n.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import React, { Fragment, useEffect, useState } from 'react';\r\nimport '../styles/Blocks.scss';\r\nimport { getStateBlocks } from '../libs/functions';\r\n\r\nexport default function BlockStatus() {\r\n  const [blocks, setBlocks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const eventSource = new EventSource('http://localhost:3001/api/blocks/all');\r\n\r\n    eventSource.onmessage = (event) => {\r\n      setBlocks(getStateBlocks(JSON.parse(event.data)));\r\n    };\r\n\r\n    return () => {\r\n      eventSource.close();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"Blocks\">\r\n      <h3>Bloques</h3>\r\n      <div className='BlocksList'>\r\n        {blocks.map((block) => (\r\n          <Fragment key={block.bloque}>\r\n            <p className='Block-num'>{block.bloque}</p>\r\n            {block.estado === 'on' && <div className='BlockState on'></div>}\r\n            {block.estado === 'off' && <div className='BlockState off'></div>}\r\n            {block.estado === 'warning' && <div className='BlockState warning'></div>}\r\n          </Fragment>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Estado Local (",(0,s.jsx)(n.code,{children:"useState"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Utiliza el estado local ",(0,s.jsx)(n.code,{children:"blocks"})," para gestionar el estado actual de los bloques."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Obtenci\xf3n de Datos (",(0,s.jsx)(n.code,{children:"useEffect"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Utiliza ",(0,s.jsx)(n.code,{children:"useEffect"})," para establecer una conexi\xf3n de eventos (",(0,s.jsx)(n.code,{children:"EventSource"}),") que actualiza el estado de los bloques en respuesta a cambios en el servidor."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Representaci\xf3n Gr\xe1fica de Bloques:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Itera sobre el estado de los bloques utilizando ",(0,s.jsx)(n.code,{children:"map"})," y representa cada bloque con un n\xfamero y un estado visual (",(0,s.jsx)(n.code,{children:"BlockState"}),"). El estado visual se determina seg\xfan el estado actual del bloque (",(0,s.jsx)(n.code,{children:"on"}),", ",(0,s.jsx)(n.code,{children:"off"}),", o ",(0,s.jsx)(n.code,{children:"warning"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"vista-del-componente",children:"Vista del Componente"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"bloques",src:o(3438).Z+"",width:"429",height:"582"})}),"\n",(0,s.jsx)(n.p,{children:"Este componente proporciona una representaci\xf3n visual clara del estado actual de los bloques y se actualiza en tiempo real en respuesta a cambios en el servidor."})]})}function u(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3438:(e,n,o)=>{o.d(n,{Z:()=>s});const s=o.p+"assets/images/blocks-e88fd0730b287f13d284cf2609674d9a.png"},1151:(e,n,o)=>{o.d(n,{Z:()=>l,a:()=>r});var s=o(7294);const t={},c=s.createContext(t);function r(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);