"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[3092],{9701:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var o=n(5893),s=n(1151);const a={id:"modal-add-user-component-jsx",title:"ModalAddUser.jsx"},t="Componente ModalAddUser.jsx",i={id:"SmartGrow/Proyecto/components/modal-add-user-component-jsx",title:"ModalAddUser.jsx",description:"El componente ModalAddUser proporciona un modal para agregar nuevos usuarios a la aplicaci\xf3n. Permite al administrador registrar usuarios con roles espec\xedficos.",source:"@site/docs/SmartGrow/Proyecto/components/ModalAddUser.md",sourceDirName:"SmartGrow/Proyecto/components",slug:"/SmartGrow/Proyecto/components/modal-add-user-component-jsx",permalink:"/docs/SmartGrow/Proyecto/components/modal-add-user-component-jsx",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"modal-add-user-component-jsx",title:"ModalAddUser.jsx"},sidebar:"tutorialSidebar",previous:{title:"Logout.jsx",permalink:"/docs/SmartGrow/Proyecto/components/logout-jsx"},next:{title:"ModalAlert.jsx",permalink:"/docs/SmartGrow/Proyecto/components/modal-alert-jsx"}},d={},l=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Vista del Componente",id:"vista-del-componente",level:2}];function c(e){const r={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.h1,{id:"componente-modaladduserjsx",children:["Componente ",(0,o.jsx)(r.code,{children:"ModalAddUser.jsx"})]}),"\n",(0,o.jsxs)(r.p,{children:["El componente ",(0,o.jsx)(r.code,{children:"ModalAddUser"})," proporciona un modal para agregar nuevos usuarios a la aplicaci\xf3n. Permite al administrador registrar usuarios con roles espec\xedficos."]}),"\n",(0,o.jsx)(r.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-jsx",children:'import React, { useState } from \'react\';\r\nimport { useForm } from \'react-hook-form\';\r\nimport api from \'../api/api\';\r\nimport \'../styles/ModalAddUser.scss\';\r\n\r\n// Componente funcional ModalAddUser\r\nexport const ModalAddUser = () => {\r\n    // Estado para gestionar la visualizaci\xf3n del mensaje de \xe9xito\r\n    const [savedUserCorrect, setSavedUserCorrect] = useState(false);\r\n\r\n    // Hook useForm para manejar el formulario\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    // Funci\xf3n para manejar el guardado de un nuevo usuario\r\n    const handleSaveUser = async (data) => {\r\n        // Obtener el token de sesi\xf3n\r\n        const token = sessionStorage.getItem(\'token\');\r\n\r\n        // Realizar una solicitud a la API para registrar el usuario\r\n        const res = await api.post(\'/users/register\', data, {\r\n            headers: {\r\n                Authorization: token\r\n            }\r\n        });\r\n\r\n        // Verificar el estado de la respuesta\r\n        if (res.data.status) {\r\n            // Marcar que el usuario se registr\xf3 correctamente\r\n            setSavedUserCorrect(true);\r\n        }\r\n\r\n        console.log(data);\r\n    }\r\n\r\n    // Estructura JSX del componente ModalAddUser\r\n    return (\r\n        <div className="ModalAddUser">\r\n            <h3>Agregar Usuario</h3>\r\n            {savedUserCorrect && (\r\n                <p className=\'MsnSuccess\'>Usuario registrado correctamente</p>\r\n            )}\r\n            <form onSubmit={handleSubmit(handleSaveUser)}>\r\n                <input type="text" placeholder="Nombre" {...register(\'name\')} required />\r\n                <input type="text" placeholder="Usuario" {...register(\'username\')} required />\r\n                <div className=\'SelectRole\'>\r\n                    <label htmlFor="role">Rol: </label>\r\n                    <select name="role" id="role" {...register(\'role\')} required>\r\n                        <option value="user">User</option>\r\n                        <option value="admin">Admin</option>\r\n                    </select>\r\n                </div>\r\n                <input type="password" placeholder="Contrase\xf1a" {...register(\'password\')} required />\r\n                <button type="submit">\r\n                    Agregar\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\n'})}),"\n",(0,o.jsx)(r.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Estado (",(0,o.jsx)(r.code,{children:"savedUserCorrect"}),"):"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Estado que indica si el usuario se registr\xf3 correctamente."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Hook ",(0,o.jsx)(r.code,{children:"useForm"}),":"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"useForm"}),": Hook de ",(0,o.jsx)(r.code,{children:"react-hook-form"})," utilizado para gestionar el formulario y sus validaciones."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Manejo del Formulario (",(0,o.jsx)(r.code,{children:"handleSaveUser"}),"):"]})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"handleSaveUser"}),": Funci\xf3n que se ejecuta al enviar el formulario. Realiza una solicitud a la API para registrar el nuevo usuario."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"Visualizaci\xf3n del Mensaje de \xc9xito:"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Se muestra un mensaje de \xe9xito cuando el usuario se registra correctamente."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"Formulario:"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Campos para ingresar el nombre, usuario, rol y contrase\xf1a del nuevo usuario."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"vista-del-componente",children:"Vista del Componente"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"modal usuario",src:n(456).Z+"",width:"643",height:"500"})}),"\n",(0,o.jsx)(r.p,{children:"Este componente es utilizado para la administraci\xf3n de usuarios por parte del administrador de la aplicaci\xf3n."})]})}function u(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},456:(e,r,n)=>{n.d(r,{Z:()=>o});const o=n.p+"assets/images/modaluser-8155c9f3762400bc1b54bc85bd48a5db.png"},1151:(e,r,n)=>{n.d(r,{Z:()=>i,a:()=>t});var o=n(7294);const s={},a=o.createContext(s);function t(e){const r=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(a.Provider,{value:r},e.children)}}}]);