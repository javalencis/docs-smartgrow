"use strict";(self.webpackChunksmart_grow_capiro=self.webpackChunksmart_grow_capiro||[]).push([[986],{1659:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var s=r(5893),a=r(1151);const o={id:"user-management-jsx",title:"UserManagement.jsx"},t="Componente UserManagement.jsx",i={id:"SmartGrow/Proyecto/components/user-management-jsx",title:"UserManagement.jsx",description:"El componente UserManagement se encarga de gestionar la visualizaci\xf3n y administraci\xf3n de usuarios. Permite mostrar una tabla con informaci\xf3n detallada de cada usuario, as\xed como agregar nuevos usuarios mediante un modal.",source:"@site/docs/SmartGrow/Proyecto/components/UserManagement.md",sourceDirName:"SmartGrow/Proyecto/components",slug:"/SmartGrow/Proyecto/components/user-management-jsx",permalink:"/docs/SmartGrow/Proyecto/components/user-management-jsx",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"user-management-jsx",title:"UserManagement.jsx"},sidebar:"tutorialSidebar",previous:{title:"Table.jsx",permalink:"/docs/SmartGrow/Proyecto/components/table-jsx"},next:{title:"UserRow.jsx",permalink:"/docs/SmartGrow/Proyecto/components/user-row-jsx"}},l={},d=[{value:"Contenido del Archivo",id:"contenido-del-archivo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"componente-usermanagementjsx",children:["Componente ",(0,s.jsx)(n.code,{children:"UserManagement.jsx"})]}),"\n",(0,s.jsxs)(n.p,{children:["El componente ",(0,s.jsx)(n.code,{children:"UserManagement"})," se encarga de gestionar la visualizaci\xf3n y administraci\xf3n de usuarios. Permite mostrar una tabla con informaci\xf3n detallada de cada usuario, as\xed como agregar nuevos usuarios mediante un modal."]}),"\n",(0,s.jsx)(n.h2,{id:"contenido-del-archivo",children:"Contenido del Archivo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import React, { useEffect, useState } from "react";\r\nimport { headersUsers } from "../libs/headersTables";\r\nimport { Table } from "./Table";\r\nimport api from "../api/api";\r\nimport { Row } from "./Row";\r\nimport { UserRow } from "./UserRow";\r\nimport \'../styles/TableUsers.scss\';\r\nimport \'../styles/UserManagement.scss\';\r\nimport { UserRowExpended } from "./UserRowExpended";\r\nimport { LayoutModal } from "../containers/LayoutModal";\r\nimport { ModalAddUser } from "./ModalAddUser";\r\n\r\n// Componente funcional UserManagement\r\nexport const UserManagement = () => {\r\n    // Estados del componente\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [users, setUsers] = useState([]);\r\n\r\n    // Funci\xf3n para obtener la lista de usuarios desde la API\r\n    const getUsers = async () => {\r\n        const token = sessionStorage.getItem(\'token\');\r\n        const res = await api.get(\'/users/all\', {\r\n            headers: {\r\n                Authorization: token\r\n            }\r\n        });\r\n\r\n        if (res.data.status) {\r\n            setUsers(res.data.users);\r\n        }\r\n    };\r\n\r\n    // Efecto secundario para cargar la lista de usuarios al montar el componente\r\n    useEffect(() => {\r\n        getUsers();\r\n    }, []);\r\n\r\n    // Funci\xf3n para abrir o cerrar el modal de agregar usuario\r\n    const handleOpenModal = () => {\r\n        setOpenModal(e => !e);\r\n    };\r\n\r\n    // Estructura JSX del componente\r\n    return (\r\n        <section className="UserManagement">\r\n            {/* Bot\xf3n para agregar usuario */}\r\n            <button className="UM-AddUser" onClick={handleOpenModal}>\r\n                Agregar Usuario\r\n            </button>\r\n\r\n            {/* Tabla de usuarios */}\r\n            <Table headers={headersUsers} name="TableUsers">\r\n                {users.map((user) => (\r\n                    <Row\r\n                        key={user._id}\r\n                        data={user}\r\n                        RowType={UserRow}\r\n                        expand\r\n                    >\r\n                        <UserRowExpended data={user} />\r\n                    </Row>\r\n                ))}\r\n            </Table>\r\n\r\n            {/* Modal de agregar usuario */}\r\n            {openModal && (\r\n                <LayoutModal setModalAlert={setOpenModal}>\r\n                    <ModalAddUser />\r\n                </LayoutModal>\r\n            )}\r\n        </section>\r\n    );\r\n};\n'})}),"\n",(0,s.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Estados del Componente:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"openModal"}),": Estado que controla la visibilidad del modal para agregar usuarios."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"users"}),": Estado que almacena la lista de usuarios obtenida desde la API."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Funci\xf3n ",(0,s.jsx)(n.code,{children:"getUsers"}),":"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Realiza una solicitud a la API para obtener la lista completa de usuarios."}),"\n",(0,s.jsxs)(n.li,{children:["Actualiza el estado ",(0,s.jsx)(n.code,{children:"users"})," con la informaci\xf3n obtenida."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Efecto Secundario (",(0,s.jsx)(n.code,{children:"useEffect"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Al montar el componente, se ejecuta la funci\xf3n ",(0,s.jsx)(n.code,{children:"getUsers"})," para cargar la lista inicial de usuarios."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Funci\xf3n ",(0,s.jsx)(n.code,{children:"handleOpenModal"}),":"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Alterna el estado ",(0,s.jsx)(n.code,{children:"openModal"})," para abrir o cerrar el modal de agregar usuario."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Estructura de la Tabla (",(0,s.jsx)(n.code,{children:"Table"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Utiliza el componente ",(0,s.jsx)(n.code,{children:"Table"})," para renderizar la tabla de usuarios con encabezados personalizados."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Bot\xf3n de Agregar Usuario:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Al hacer clic en el bot\xf3n "Agregar Usuario", se activa la funci\xf3n ',(0,s.jsx)(n.code,{children:"handleOpenModal"})," para mostrar el modal."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Modal de Agregar Usuario (",(0,s.jsx)(n.code,{children:"ModalAddUser"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Se utiliza un modal para agregar nuevos usuarios. El modal se muestra o se oculta seg\xfan el estado ",(0,s.jsx)(n.code,{children:"openModal"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Este componente centraliza la gesti\xf3n de usuarios y proporciona una interfaz para agregar nuevos usuarios de manera interactiva."})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>i,a:()=>t});var s=r(7294);const a={},o=s.createContext(a);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);